<!DOCTYPE html> <html lang="en"><head>
<title>Dropbear ssh on Keenetic login without password</title>
<base href=".">
<meta name="pathname" content="dropbear-ssh-on-keenetic-login-without-password-999.html">
<meta name="description" content="ThoughtsTheHorses - Dropbear ssh on Keenetic login without password">
<meta property="og:title" content="Dropbear ssh on Keenetic login without password">
<meta property="og:description" content="ThoughtsTheHorses - Dropbear ssh on Keenetic login without password">
<meta property="og:type" content="website">
<meta property="og:url" content="dropbear-ssh-on-keenetic-login-without-password-999.html">
<meta property="og:image" content="undefined">
<meta name="author" content="Maksim Ilinskii"><meta property="og:site_name" content="ThoughtsTheHorses"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0"><meta charset="UTF-8"><script async="" id="webpage-script" src="site-lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-wasm-script" src="site-lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="site-lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="site-lib/media/favicon.png"><link rel="preload" href="site-lib/styles/snippets.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="site-lib/styles/snippets.css"></noscript><link rel="stylesheet" href="site-lib/styles/obsidian.css"><link rel="stylesheet" href="site-lib/styles/theme.css"><link rel="preload" href="site-lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="site-lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="site-lib/styles/supported-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="site-lib/styles/supported-plugins.css"></noscript><link rel="preload" href="site-lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="site-lib/styles/main-styles.css"></noscript><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-vertical-spacing:1.3em;--sidebar-margin:12px}:root{background-color:#202124}.sidebar{height:100%;font-size:14px;z-index:10;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));position:relative;overflow:hidden;overflow:clip;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}#left-sidebar{left:0}#right-sidebar{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}.sidebar.floating{position:absolute}.sidebar .leaf-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .leaf-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}#left-sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}#right-sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar #left-sidebar-content,.sidebar #right-sidebar-content{contain:none!important;container-type:normal!important;animation:none!important}.sidebar:has(.leaf-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}#left-sidebar .sidebar-topbar{left:0;flex-direction:row}#right-sidebar .sidebar-topbar{right:0;flex-direction:row-reverse}#left-sidebar .topbar-content{margin-right:calc(2.3em + var(--sidebar-margin));flex-direction:row}#right-sidebar .topbar-content{margin-left:calc(2.3em + var(--sidebar-margin));flex-direction:row-reverse}.topbar-content{overflow:hidden visible;overflow:clip visible;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:2px!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}#left-sidebar .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}#right-sidebar .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.feature-title{margin-left:4px;text-transform:uppercase;letter-spacing:.06em;margin-top:.75em;margin-bottom:.75em}.feature-header{display:flex;align-items:center;padding-top:0;font-size:1em;padding-left:0}body.floating-sidebars .sidebar{position:absolute}body{transition:background-color var(--color-fade-speed) ease-in-out}#layout{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}#center-content{flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0!important;transition:opacity .2s ease-in-out;pointer-events:none}#center-content>.obsidian-document{padding-left:2em;padding-right:1em;margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}body #center-content>.obsidian-document>.markdown-preview-sizer{padding-bottom:80vh;width:100%;max-width:var(--line-width);flex-basis:var(--line-width);transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}#center-content>.obsidian-document>div{width:100%!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}#center-content>.obsidian-document:not([data-type=markdown]).embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}#center-content>.obsidian-document:not([data-type=markdown]).embed>*{max-width:100%;max-height:100%;object-fit:contain}:not(h1,h2,h3,h4,h5,h6):has(> :is(.math:not(.math-inline),table)){overflow-x:auto!important}#center-content>.obsidian-document:not([data-type=markdown]){overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.obsidian-document[data-type=attachment]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;width:100%}.obsidian-document[data-type=attachment]>*{outline:0;border:none;box-shadow:none}.obsidian-document[data-type=attachment] :is(img){max-width:90%;max-height:90%;object-fit:contain}.obsidian-document[data-type=attachment]>:is(audio){width:100%;max-width:min(90%,var(--line-width))}.obsidian-document[data-type=attachment]>:is(embed,iframe,video){width:100%;height:100%;max-width:100%;max-height:100%;object-fit:contain}.canvas-wrapper>:is(.header,.footer){z-index:100;position:absolute;display:flex;justify-content:center;flex-direction:column;width:100%;align-items:center}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){let e=document.querySelectorAll("link[itemprop='include']");for(const t of e){let e=t.getAttribute("href");try{let o="";if(e.startsWith("https:")||e.startsWith("http:")||"file:"!=window.location.protocol){const l=await fetch(e);if(!l.ok){console.log("Could not include file: "+e),t?.remove();continue}o=await l.text()}else{const t=document.getElementById(btoa(encodeURI(e)));if(t){const e=JSON.parse(decodeURI(atob(t.getAttribute("value")??"")));o=e?.data??""}}let l=document.createRange().createContextualFragment(o),n=Array.from(l.children);for(let e of n)e?.classList?.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e?.classList?.remove("hide")}),10);t.before(l),t.remove(),console.log("Included text: "+o),console.log("Included file: "+e)}catch(o){t?.remove(),console.log("Could not include file: "+e,o);continue}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script")));!function e(l){let n=o[l],c=l+1;n?(n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(c),l<o.length&&n.addEventListener("load",(()=>e(c)))):l<o.length?e(c):t()}(0)}</script></head><body class="publish css-settings-manager is-hidden-frameless show-ribbon code-styler is-focused"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="parsed-feature-container" style="display: contents;"><link itemprop="include" href="site-lib/html/custom-head-content-content.html"></div><div id="layout"><div id="left-content" class="leaf" style="--sidebar-width: var(--sidebar-width-left);"><div id="left-sidebar" class="sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><div id="search-container"><div id="search-wrapper"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div aria-label="Clear search" id="search-clear-button"></div></div></div></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content-wrapper"><div id="left-sidebar-content" class="leaf-content"><link itemprop="include" href="site-lib/html/file-tree-content.html"></div></div><script defer="">let ls = document.querySelector("#left-sidebar"); ls.classList.toggle("is-collapsed", window.innerWidth < 768); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div></div><div id="center-content" class="leaf"><div class="obsidian-document markdown-preview-view markdown-rendered node-insert-event is-readable-line-width allow-fold-headings allow-fold-lists show-indentation-guide show-properties" data-type="markdown"><style id="MJX-CHTML-styles"></style><pre class="frontmatter language-yaml" tabindex="0" style="display: none;"><code class="language-yaml is-loaded"><span class="token key atrule">title</span><span class="token punctuation">:</span> Dropbear ssh on Keenetic login without password
<span class="token key atrule">type</span><span class="token punctuation">:</span> 
<span class="token key atrule">created</span><span class="token punctuation">:</span> 12<span class="token punctuation">-</span>01<span class="token punctuation">-</span><span class="token number">2025</span><span class="token punctuation">,</span> 5<span class="token punctuation">:</span>45 pm
<span class="token key atrule">company</span><span class="token punctuation">:</span> 
<span class="token key atrule">project</span><span class="token punctuation">:</span> 
<span class="token key atrule">author</span><span class="token punctuation">:</span> Maksim Ilinskii
<span class="token key atrule">aliases</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//forum.keenetic.ru/topic/83<span class="token punctuation">-</span>dropbear<span class="token punctuation">-</span>%D0%B8<span class="token punctuation">-</span>%D0%B0%D0%B2%D1%82%D0%BE%D1%80%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F<span class="token punctuation">-</span>%D0%BF%D0%BE<span class="token punctuation">-</span>%D0%BA%D0%BB%D1%8E%D1%87%D1%83/
<span class="token key atrule">source</span><span class="token punctuation">:</span> 
tags<span class="token punctuation">:</span></code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre><div class="markdown-preview-sizer markdown-preview-section"><div class="header"><h1 class="page-title heading" id="Dropbear_ssh_on_Keenetic_login_without_password_0">Dropbear ssh on Keenetic login without password</h1><div class="data-bar"></div></div><div class="markdown-preview-pusher" style="width: 1px; height: 0.1px; margin-bottom: 0px;"></div><div class="el-p"><p dir="auto"><br><br></p></div><div class="el-p"><p dir="auto">Yes, you can use a different key for testing without needing to delete the current key from either machine. Here’s how you can do it:</p></div><div class="el-h3"><h3 data-heading="1. **Generate or Prepare a New Key:**" dir="auto" class="heading" id="1._**Generate_or_Prepare_a_New_Key**_0"><span class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span>1. <strong>Generate or Prepare a New Key:</strong></h3></div><div class="el-p"><p dir="auto">If you don't already have a new key, you can generate one using:</p></div><div class="el-pre code-styler-pre-parent"><pre class="language-powershell code-styler-pre" tabindex="0" defaultfold="false"><div class="code-styler-header-container-hidden"></div><code data-line="0" class="language-powershell is-loaded"><div class="code-styler-line"><div class="code-styler-line-number">1</div><div class="code-styler-line-text">ssh-keygen <span class="token operator">-</span>t rsa <span class="token operator">-</span>f <span class="token string">"<span class="token variable">$env</span>:USERPROFILE\.ssh\Your_KeyName"</span></div></div></code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-hr"><hr></div><div class="el-h4"><h4 data-heading="Other Options:" dir="auto" class="heading" id="Other_Options_0"><span class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span>Other Options:</h4></div><div class="el-pre code-styler-pre-parent"><pre class="language-bash code-styler-pre" tabindex="0" defaultfold="false"><div class="code-styler-header-container-hidden"></div><code data-line="0" class="language-bash is-loaded"><div class="code-styler-line"><div class="code-styler-line-number">1</div><div class="code-styler-line-text">ssh-keygen <span class="token parameter variable">-t</span> rsa <span class="token parameter variable">-b</span> <span class="token number">4096</span> <span class="token parameter variable">-f</span> <span class="token string">"<span class="token variable">$env</span>:USERPROFILE\.ssh\Your_KeyName"</span></div></div></code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">This will create a new private key (<code class="code-styler-inline">Your_KeyName</code>) and a corresponding public key (<code class="code-styler-inline">Your_KeyName.pub</code>) in your <code class="code-styler-inline">.ssh</code> directory.</p></div><div class="el-ul"><ul class="has-list-bullet">
<li data-line="0" dir="auto"><span class="list-bullet"></span><code class="code-styler-inline">-b 4096</code> specifies the <strong>key length</strong> (in bits), with 4096 being a stronger, more secure choice.</li>
<li data-line="1" dir="auto"><span class="list-bullet"></span><code class="code-styler-inline">-f</code> specifies the <strong>filename</strong> where the private key will be stored. </li>
</ul></div><div class="el-hr"><hr></div><div class="el-p"><p dir="auto">The shorter command will create the file with the default name <code class="code-styler-inline">id_rsa</code> in <code class="code-styler-inline">C:\Users\UserName\.ssh</code> folder:</p></div><div class="el-pre code-styler-pre-parent"><pre class="language-bash code-styler-pre" tabindex="0" defaultfold="false"><div class="code-styler-header-container-hidden"></div><code data-line="0" class="language-bash is-loaded"><div class="code-styler-line"><div class="code-styler-line-number">1</div><div class="code-styler-line-text">ssh-keygen <span class="token parameter variable">-t</span> rsa</div></div></code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-blockquote"><blockquote dir="auto">
<p>with 2048 bit (standard, but lower security)</p>
</blockquote></div><div class="el-hr"><hr></div><div class="el-h3"><h3 data-heading="2. **Add the New Key to the SSH Agent:**" dir="auto" class="heading" id="2._**Add_the_New_Key_to_the_SSH_Agent**_0"><span class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span>2. <strong>Add the New Key to the SSH Agent:</strong></h3></div><div class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="warning" class="callout"><div class="callout-title" dir="auto"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-alert-triangle"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg></div><div class="callout-title-inner">Agent work only in the current session!</div></div><div class="callout-content">
<p dir="auto">If you want to start it on <strong>every session</strong>, you need to start it as a service.<br>
Skip this the following steps, and follow this instruction:</p>
<ul class="has-list-bullet">
<li data-line="3" dir="auto"><span class="list-bullet"></span><a data-href="Auto-start SSH Agent on every terminal session" href="tech/pc/powershell/openssh/auto-start-ssh-agent-on-every-terminal-session.html" class="internal-link" target="_self" rel="noopener nofollow">Auto-start SSH Agent on every terminal session</a></li>
</ul>
</div></div></div><div class="el-p"><p dir="auto">If you want to start the Agent temporary, follow the steps:</p></div><div class="el-ul"><ul class="has-list-bullet">
<li data-line="0" dir="auto"><span class="list-bullet"></span>Start the Agent, if it isn't started:</li>
</ul></div><div class="el-pre code-styler-pre-parent"><pre class="language-bash code-styler-pre" tabindex="0" defaultfold="false"><div class="code-styler-header-container-hidden"></div><code data-line="0" class="language-bash is-loaded"><div class="code-styler-line"><div class="code-styler-line-number">1</div><div class="code-styler-line-text"><span class="token builtin class-name">eval</span> <span class="token variable"><span class="token variable">$(</span>ssh-agent<span class="token variable">)</span></span></div></div></code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-ul"><ul class="has-list-bullet">
<li data-line="0" dir="auto"><span class="list-bullet"></span>You can add the new key to the SSH agent without affecting the current key:</li>
</ul></div><div class="el-pre code-styler-pre-parent"><pre class="language-powershell code-styler-pre" tabindex="0" defaultfold="false"><div class="code-styler-header-container-hidden"></div><code data-line="0" class="language-powershell is-loaded"><div class="code-styler-line"><div class="code-styler-line-number">1</div><div class="code-styler-line-text">ssh-add <span class="token string">"<span class="token variable">$env</span>:USERPROFILE\.ssh\id_rsa"</span></div></div></code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">This tells the SSH agent to use the new private key for authentication.</p></div><div class="el-hr"><hr></div><div class="el-h3"><h3 data-heading="3. **Add the New Public Key to Dropbear:**" dir="auto" class="heading" id="3._**Add_the_New_Public_Key_to_Dropbear**_0"><span class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span>3. <strong>Add the New Public Key to Dropbear:</strong></h3></div><div class="el-pre code-styler-pre-parent"><pre class="language-bash code-styler-pre" tabindex="0" defaultfold="false"><div class="code-styler-header-container-hidden"></div><code data-line="0" class="language-bash is-loaded"><div class="code-styler-line"><div class="code-styler-line-number">1</div><div class="code-styler-line-text"><span class="token builtin class-name">type</span> ~/.ssh/id_rsa.pub <span class="token operator">|</span> <span class="token function">ssh</span> root@192.168.1.1 <span class="token parameter variable">-p</span> <span class="token number">222</span> <span class="token string">"cat &gt;&gt; /opt/etc/dropbear/authorized_keys &amp;&amp; chmod 700 /opt/etc/dropbear &amp;&amp; chmod 600 /opt/etc/dropbear/authorized_keys"</span></div></div></code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-blockquote"><blockquote dir="auto">
<p><code class="code-styler-inline">chmod 600 /opt/etc/dropbear/authorized_keys</code> — 600 is the required permission for authorized_keys </p>
</blockquote></div><div class="el-blockquote"><blockquote dir="auto">
<p><code class="code-styler-inline">hmod 700 /opt/etc/dropbear</code> — 700 is the required permission for the folder. </p>
</blockquote></div><div class="el-p"><p dir="auto">You might need to create it, though. Login to <a data-tooltip-position="top" aria-label="mailto:root@192.168.1.1" rel="noopener nofollow" class="external-link" href=".html" target="_self">root@192.168.1.1</a>, and do the following:</p></div><div class="el-pre code-styler-pre-parent"><pre class="language-bash code-styler-pre" tabindex="0" defaultfold="false"><div class="code-styler-header-container-hidden"></div><code data-line="0" class="language-bash is-loaded"><div class="code-styler-line"><div class="code-styler-line-number">1</div><div class="code-styler-line-text"><span class="token function">mkdir</span> /opt/etc/dropbear <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> <span class="token number">700</span> /opt/etc/dropbear</div></div></code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">To check that it's created, use:</p></div><div class="el-pre code-styler-pre-parent"><pre class="language-powershell code-styler-pre" tabindex="0" defaultfold="false"><div class="code-styler-header-container-hidden"></div><code data-line="0" class="language-powershell is-loaded"><div class="code-styler-line"><div class="code-styler-line-number">1</div><div class="code-styler-line-text"><span class="token function">ls</span> <span class="token operator">-</span>a <span class="token operator">/</span>opt/etc/dropbear</div></div></code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-hr"><hr></div><div class="el-h3"><h3 data-heading="4. Now we need to clean the key from ownerships" dir="auto" class="heading" id="4._Now_we_need_to_clean_the_key_from_ownerships_0"><span class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span>4. Now we need to clean the key from ownerships</h3></div><div class="el-pre code-styler-pre-parent"><pre class="language-powershell code-styler-pre" tabindex="0" defaultfold="false"><div class="code-styler-header-container-hidden"></div><code data-line="0" class="language-powershell is-loaded"><div class="code-styler-line"><div class="code-styler-line-number">1</div><div class="code-styler-line-text">icacls C:\Users\maxpe\<span class="token punctuation">.</span>ssh\dropbear_rsa_hostkey <span class="token operator">/</span>grant <span class="token string">"MAKSIM\maxpe:F"</span> <span class="token operator">/</span>inheritance:r</div></div></code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-blockquote"><blockquote dir="auto">
<p>If it didn't work: </p>
<ul class="has-list-bullet">
<li data-line="1" dir="auto"><span class="list-bullet"></span><a data-href="Windows — Remove permissions from the file" href="001-inbox-📬/windows-—-remove-permissions-from-the-file.html" class="internal-link" target="_self" rel="noopener nofollow">Windows — Remove permissions from the file</a></li>
</ul>
</blockquote></div><div class="el-hr"><hr></div><div class="el-h3"><h3 data-heading="5. **Use the New Key for SSH Login:**" dir="auto" class="heading" id="5._**Use_the_New_Key_for_SSH_Login**_0"><span class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span>5. <strong>Use the New Key for SSH Login:</strong></h3></div><div class="el-p"><p dir="auto">If you used the SSH agent, it will automatically use it:</p></div><div class="el-pre code-styler-pre-parent"><pre class="language-bash code-styler-pre" tabindex="0" defaultfold="false"><div class="code-styler-header-container-hidden"></div><code data-line="0" class="language-bash is-loaded"><div class="code-styler-line"><div class="code-styler-line-number">1</div><div class="code-styler-line-text"><span class="token function">ssh</span> <span class="token parameter variable">-v</span> root@192.168.1.1 <span class="token parameter variable">-p</span> <span class="token number">222</span></div></div></code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">Or, if you prefer to manually specify the key without adding it to the agent:</p></div><div class="el-pre code-styler-pre-parent"><pre class="language-bash code-styler-pre" tabindex="0" defaultfold="false"><div class="code-styler-header-container-hidden"></div><code data-line="0" class="language-bash is-loaded"><div class="code-styler-line"><div class="code-styler-line-number">1</div><div class="code-styler-line-text"><span class="token function">ssh</span> <span class="token parameter variable">-v</span> <span class="token parameter variable">-i</span> <span class="token string">"<span class="token variable">$env</span>:USERPROFILE\.ssh\id_rsa"</span> root@192.168.1.1 <span class="token parameter variable">-p</span> <span class="token number">222</span></div></div></code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-blockquote"><blockquote dir="auto">
<p><code class="code-styler-inline">-v</code> argument stands for "verbose" — it's showing you the log</p>
</blockquote></div><div class="el-hr"><hr></div><div class="el-h3"><h3 data-heading="**No Need to Remove the Old Key:**" dir="auto" class="heading" id="**No_Need_to_Remove_the_Old_Key**_0"><span class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span><strong>No Need to Remove the Old Key:</strong></h3></div><div class="el-p"><p dir="auto">You do <strong>not</strong> have to delete the old key from either machine. Both the old key and the new key can be used independently. Dropbear will try to authenticate with whichever key is available on the client-side (via the SSH agent or specified with the <code class="code-styler-inline">-i</code> flag).</p></div><div class="el-hr"><hr></div><div class="el-p"><p dir="auto">This allows you to test with a new key while keeping your original key intact. When you’re ready to switch back to the old key, you can either:</p></div><div class="el-ul"><ul class="has-list-bullet">
<li data-line="0" dir="auto"><span class="list-bullet"></span>Remove the new key from the SSH agent using <code class="code-styler-inline">ssh-add -d "$env:USERPROFILE\.ssh\new_key"</code>, or</li>
<li data-line="1" dir="auto"><span class="list-bullet"></span>Simply specify the old key manually again.</li>
</ul></div><div class="el-p"><p dir="auto">Let me know if you'd like more guidance!</p></div><div class="el-hr"><hr></div><div class="el-h3"><h3 data-heading="Useful Links:" dir="auto" class="heading" id="Useful_Links_0"><span class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></span>Useful Links:</h3></div><div class="el-p"><p dir="auto"><a data-tooltip-position="top" aria-label="https://learn.microsoft.com/en-us/windows-server/administration/openssh/openssh_keymanagement" rel="noopener nofollow" class="external-link is-unresolved" href="https://learn.microsoft.com/en-us/windows-server/administration/openssh/openssh_keymanagement" target="_self">Key-based authentication in OpenSSH for Windows | Microsoft Learn</a> — Note the part about non-English localized versions of the operating system</p></div><div class="el-p"><p dir="auto">and this can give an idea to create a variable: </p></div><div class="el-pre code-styler-pre-parent"><pre class="language-powershell code-styler-pre" tabindex="0" defaultfold="false"><div class="code-styler-header-container-hidden"></div><code data-line="0" class="language-powershell is-loaded"><div class="code-styler-line"><div class="code-styler-line-number">1</div><div class="code-styler-line-text"><span class="token comment"># Get the public key file generated previously on your client</span></div></div><div class="code-styler-line"><div class="code-styler-line-number">2</div><div class="code-styler-line-text"><span class="token variable">$authorizedKey</span> = <span class="token function">Get-Content</span> <span class="token operator">-</span>Path <span class="token variable">$env</span>:USERPROFILE\<span class="token punctuation">.</span>ssh\id_ecdsa<span class="token punctuation">.</span>pub</div></div><div class="code-styler-line"><div class="code-styler-line-number">3</div><div class="code-styler-line-text"><br></div></div><div class="code-styler-line"><div class="code-styler-line-number">4</div><div class="code-styler-line-text"><span class="token comment"># Generate the PowerShell to be run remote that will copy the public key file generated previously on your client to the authorized_keys file on your server</span></div></div><div class="code-styler-line"><div class="code-styler-line-number">5</div><div class="code-styler-line-text"><span class="token variable">$remotePowershell</span> = <span class="token string">"powershell Add-Content -Force -Path <span class="token variable">$env</span>:ProgramData\ssh\administrators_authorized_keys -Value '''<span class="token variable">$authorizedKey</span>''';icacls.exe "</span><span class="token string">"<span class="token variable">$env</span>:ProgramData\ssh\administrators_authorized_keys"</span><span class="token string">" /inheritance:r /grant "</span><span class="token string">"Administrators:F"</span><span class="token string">" /grant "</span><span class="token string">"SYSTEM:F"</span><span class="token string">""</span></div></div><div class="code-styler-line"><div class="code-styler-line-number">6</div><div class="code-styler-line-text"><br></div></div><div class="code-styler-line"><div class="code-styler-line-number">7</div><div class="code-styler-line-text"><span class="token comment"># Connect to your server and run the PowerShell using the $remotePowerShell variable</span></div></div><div class="code-styler-line"><div class="code-styler-line-number">8</div><div class="code-styler-line-text">ssh username@domain1@contoso<span class="token punctuation">.</span>com <span class="token variable">$remotePowershell</span></div></div></code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-hr"><hr></div><div class="footer"><div class="data-bar"></div></div></div></div></div><div id="right-content" class="leaf" style="--sidebar-width: var(--sidebar-width-right);"><div id="right-sidebar" class="sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme-toggle-input" id=""><input class="theme-toggle-input" type="checkbox" id="theme-toggle-input"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content-wrapper"><div id="right-sidebar-content" class="leaf-content"><div class="graph-view-wrapper"><div class="feature-header"><div class="feature-title">Interactive Graph</div></div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<div class="graph-icon graph-global" role="button" aria-label="Global Graph" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-git-fork"><circle cx="12" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><circle cx="18" cy="6" r="3"></circle><path d="M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9"></path><path d="M12 12v3"></path></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div id="outline" class=" tree-container"><div class="feature-header"><div class="feature-title">Table Of Contents</div><button class="clickable-icon nav-action-button tree-collapse-all" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-item mod-collapsible" data-depth="1"><a class="tree-item-self is-clickable mod-collapsible" href="dropbear-ssh-on-keenetic-login-without-password-999.html#Dropbear_ssh_on_Keenetic_login_without_password_0" data-path="#Dropbear_ssh_on_Keenetic_login_without_password_0"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><div class="tree-item-inner heading-link" heading-name="Dropbear ssh on Keenetic login without password">Dropbear ssh on Keenetic login without password</div></a><div class="tree-item-children"><div class="tree-item" data-depth="3"><a class="tree-item-self is-clickable" href="dropbear-ssh-on-keenetic-login-without-password-999.html#1._**Generate_or_Prepare_a_New_Key**_0" data-path="#1._**Generate_or_Prepare_a_New_Key**_0"><div class="tree-item-inner heading-link" heading-name="1. **Generate or Prepare a New Key:**">1. Generate or Prepare a New Key:</div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-item-self is-clickable" href="dropbear-ssh-on-keenetic-login-without-password-999.html#Other_Options_0" data-path="#Other_Options_0"><div class="tree-item-inner heading-link" heading-name="Other Options:">Other Options:</div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-item-self is-clickable" href="dropbear-ssh-on-keenetic-login-without-password-999.html#2._**Add_the_New_Key_to_the_SSH_Agent**_0" data-path="#2._**Add_the_New_Key_to_the_SSH_Agent**_0"><div class="tree-item-inner heading-link" heading-name="2. **Add the New Key to the SSH Agent:**">2. Add the New Key to the SSH Agent:</div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-item-self is-clickable" href="dropbear-ssh-on-keenetic-login-without-password-999.html#3._**Add_the_New_Public_Key_to_Dropbear**_0" data-path="#3._**Add_the_New_Public_Key_to_Dropbear**_0"><div class="tree-item-inner heading-link" heading-name="3. **Add the New Public Key to Dropbear:**">3. Add the New Public Key to Dropbear:</div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-item-self is-clickable" href="dropbear-ssh-on-keenetic-login-without-password-999.html#4._Now_we_need_to_clean_the_key_from_ownerships_0" data-path="#4._Now_we_need_to_clean_the_key_from_ownerships_0"><div class="tree-item-inner heading-link" heading-name="4. Now we need to clean the key from ownerships">4. Now we need to clean the key from ownerships</div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-item-self is-clickable" href="dropbear-ssh-on-keenetic-login-without-password-999.html#5._**Use_the_New_Key_for_SSH_Login**_0" data-path="#5._**Use_the_New_Key_for_SSH_Login**_0"><div class="tree-item-inner heading-link" heading-name="5. **Use the New Key for SSH Login:**">5. Use the New Key for SSH Login:</div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-item-self is-clickable" href="dropbear-ssh-on-keenetic-login-without-password-999.html#**No_Need_to_Remove_the_Old_Key**_0" data-path="#**No_Need_to_Remove_the_Old_Key**_0"><div class="tree-item-inner heading-link" heading-name="**No Need to Remove the Old Key:**"><strong>No Need to Remove the Old Key:</strong></div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-item-self is-clickable" href="dropbear-ssh-on-keenetic-login-without-password-999.html#Useful_Links_0" data-path="#Useful_Links_0"><div class="tree-item-inner heading-link" heading-name="Useful Links:">Useful Links:</div></a><div class="tree-item-children"></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector("#right-sidebar"); rs.classList.toggle("is-collapsed", window.innerWidth < 768); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></div></body></html>